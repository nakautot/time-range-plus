function compareTime(r,n){return r[0]-n[0]}function mergeRanges(r,n,e){return r.concat(e?Trp.mergeRange(r.pop(),n):[n])}function Trp(r,n){void 0!==r&&void 0!==n&&a(r,n);var e=this,t=void 0!==r&&void 0!==n,o=t?[[r,n]]:[];function a(r,n){if(void 0===r||void 0===n||Number.isNaN(r)||Number.isNaN(n))throw Error("Input parameters should be numbers.");if(n<=r)throw Error("Start should be less than end.")}function u(r){if(r>=e.length)throw Error("Index is out of bounds.")}e.length=Number(t),e.add=function(r,n){a(r,n),o.push([r,n]),o=Trp.cleanUpRange(o),e.length=o.length},e.start=function(r){return u(r),o[r][0]},e.end=function(r){return u(r),o[r][1]},e.merge=function(r){var n=o.concat(Trp.toRangeArray(r));o=Trp.cleanUpRange(n),e.length=o.length},e.toString=function(){return(o.length?"[[{0}]]":"[{0}]").replace("{0}",o.join("],["))}}Trp.mergeRange=function(r,n){if(r[0]<=n[0]&&n[0]<=r[1])return[[r[0],r[1]<=n[1]?n[1]:r[1]]];if(r[1]<n[0])return[r,n];throw Error("Parameters need to be sorted via start date before passing.")},Trp.toRangeArray=function(e){return new Array(e.length).fill().map(function(r,n){return[e.start(n),e.end(n)]})},Trp.cleanUpRange=function(r){return r.sort(compareTime).reduce(mergeRanges,[])},Trp.wrap=function(r){var n=new Trp;return Trp.toRangeArray(r).forEach(function(r){n.add(r[0],r[1])}),n},module.exports=Trp;